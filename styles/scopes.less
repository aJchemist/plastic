@import "./__config";

@scope-color-shift: 20;

.plastic-editor-view {
  
  .scope {
    margin-bottom: 4px;
    padding: 4px 4px;
  }
  
  .makeScope(@scope, @color) {
      .scope-@{scope} {
          border-color: desaturate(darken(@color, 30), 60%);
      }
      
      .scope-@{scope} > .punctuation {
        color: @color !important;
        opacity: 1;
      }

      .decl-scope-@{scope} {
          color: @color;
      }

      .decl-scope-@{scope} .decl {
          color: darken(@color, 10);
      }
  }
  
  // purple is keywords
  // green is strings
  // -- other colors are avail
  .makeScope(1, hsl(210, 100%, 80%));
  .makeScope(2, hsl(0, 100%, 80%));
  .makeScope(3, hsl(50, 100%, 80%));
  .makeScope(4, hsl(180, 100%, 80%));
  .makeScope(5, hsl(330, 100%, 80%));
  .makeScope(6, hsl(20, 100%, 80%));
  .makeScope(7, hsl(240, 100%, 80%));
  .makeScope(8, hsl(300, 100%, 80%));

  .makeScope( 9, hsl(210+@scope-color-shift, 100%, 80%));
  .makeScope(10, hsl(0+@scope-color-shift, 100%, 80%));
  .makeScope(11, hsl(50+@scope-color-shift, 100%, 80%));
  .makeScope(12, hsl(180+@scope-color-shift, 100%, 80%));
  .makeScope(13, hsl(330+@scope-color-shift, 100%, 80%));
  .makeScope(14, hsl(20+@scope-color-shift, 100%, 80%));
  .makeScope(15, hsl(240+@scope-color-shift, 100%, 80%));
  .makeScope(16, hsl(300+@scope-color-shift, 100%, 80%));

} // .plastic-editor-view

@depth-base1: darken(#21252b, 10%); //hsl(0,  0%,   0%);
@depth-base2: hsl(0,  0%,  30%);
@depth-base3: hsl(200, 50%, 5%);
@depth-base4: hsl(200, 50%, 30%);
@depth-base5: hsl(0, 50%,  5%);
@depth-base6: hsl(0, 50%, 30%);

@depth-steps: 12;
@depth-increment: (100 / @depth-steps);

.plastic-editor-view {

  .makeDepths(@start, @end, @base-index, @i) when (@i > 0) {
      @depth: @base-index + @i - 1;

      .scope-depth-@{depth} {
        background-color: mix(@start, @end, (@depth-steps - @i)*@depth-increment);
      }
      
      .makeDepths(@start, @end, @base-index, (@i - 1));
  }

  .makeDepths(@depth-base1, @depth-base2, 0, @depth-steps);
  .makeDepths(@depth-base2, @depth-base3, 1*@depth-steps, @depth-steps);
  .makeDepths(@depth-base3, @depth-base4, 2*@depth-steps, @depth-steps);
  .makeDepths(@depth-base4, @depth-base5, 3*@depth-steps, @depth-steps);
  .makeDepths(@depth-base5, @depth-base6, 4*@depth-steps, @depth-steps);

} // .plastic-editor-view